<Window x:Class="TaxiGO.AdminWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:TaxiGO"
        Title="TaxiGO - Админ" 
        Height="600" 
        MinHeight="500"
        Width="1000" 
        MinWidth="800"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None" 
        AllowsTransparency="True" 
        Background="Transparent">
    <Window.Resources>
        <!-- Конвертеры -->
        <local:StatusToVisibilityConverter x:Key="StatusToVisibilityConverter"/>
        <local:NullToTextConverter x:Key="NullToTextConverter"/>
        <local:BooleanToTextConverter x:Key="BooleanToTextConverter" TrueText="Активен" FalseText="Неактивен"/>
        <local:OrderStatusToColorConverter x:Key="StatusToColorConverter"/>

        <!-- Анимации для переходов между вкладками (слайд) -->
        <Storyboard x:Key="SlideOutLeftAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0.2" Duration="0:0:0.3"/>
            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)" From="0" To="-50" Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <SineEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        <Storyboard x:Key="SlideInRightAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0.2" To="1" Duration="0:0:0.3"/>
            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)" From="50" To="0" Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <SineEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        <Storyboard x:Key="ShakeAnimation">
            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)"
                           From="0" To="5" Duration="0:0:0.05" AutoReverse="True" RepeatBehavior="3x">
                <DoubleAnimation.EasingFunction>
                    <SineEase EasingMode="EaseInOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <!-- Стиль для боковой панели -->
        <Style x:Key="SidebarStyle" TargetType="Border">
            <Setter Property="Background" Value="#FF1E1E1E"/>
            <Setter Property="Visibility" Value="Visible"/>
        </Style>

        <!-- Стиль для кнопок навигации -->
        <Style x:Key="NavButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FFD1D1D1"/>
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="10,5"/>
            <Setter Property="Width" Value="50"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="ToolTipService.InitialShowDelay" Value="500"/>
            <Setter Property="ToolTipService.ShowDuration" Value="5000"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="25">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF3A3A3A" Offset="0"/>
                                            <GradientStop Color="#FF4A4A4A" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FF42A5F5" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="Border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="25" CenterY="25"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF2A2A2A" Offset="0"/>
                                            <GradientStop Color="#FF3A3A3A" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="Tag" Value="Active">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF42A5F5" Offset="0"/>
                                            <GradientStop Color="#FF7C4DFF" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для кнопки "Выйти" -->
        <Style x:Key="LogoutButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FFFF6B6B"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="10,5"/>
            <Setter Property="Width" Value="50"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="ToolTipService.InitialShowDelay" Value="500"/>
            <Setter Property="ToolTipService.ShowDuration" Value="5000"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="25" BorderBrush="#FFFF6B6B" BorderThickness="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FFFF6B6B"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FFFF6B6B" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="Border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="25" CenterY="25"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FFCC5252"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для кнопок управления окном -->
        <Style x:Key="WindowControlButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FF3A3A3A"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FF4A4A4A"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для кнопки закрытия -->
        <Style x:Key="CloseButtonStyle" TargetType="Button" BasedOn="{StaticResource WindowControlButtonStyle}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FF8B0000"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FF4A4A4A"/>
                            </Trigger>
                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                <Setter Property="ContentTemplate">
                                    <Setter.Value>
                                        <DataTemplate>
                                            <ContentPresenter Content="{Binding RelativeSource={RelativeSource AncestorType=ContentPresenter}, Path=Content}" Margin="-7,0,0,0"/>
                                        </DataTemplate>
                                    </Setter.Value>
                                </Setter>
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для основных кнопок -->
        <Style x:Key="ActionButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FF42A5F5"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="10,5"/>
            <Setter Property="Width" Value="160"/>
            <!-- Увеличено с 120 до 160 -->
            <Setter Property="Height" Value="40"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="20" BorderBrush="#FF42A5F5" BorderThickness="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF42A5F5" Offset="0"/>
                                            <GradientStop Color="#FF7C4DFF" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FF42A5F5" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="Border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="80" CenterY="20"/>
                                        <!-- Обновлено для новой ширины -->
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF3A8FD1" Offset="0"/>
                                            <GradientStop Color="#FF673AB7" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для кнопок отмены -->
        <Style x:Key="CancelButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FFFF6B6B"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="10,5"/>
            <Setter Property="Width" Value="120"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="20" BorderBrush="#FFFF6B6B" BorderThickness="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FFFF6B6B"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FFFF6B6B" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="Border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="60" CenterY="20"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FFCC5252"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для кнопки редактирования -->
        <Style x:Key="EditButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FF42A5F5"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="10,5"/>
            <Setter Property="Width" Value="50"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="ToolTipService.InitialShowDelay" Value="500"/>
            <Setter Property="ToolTipService.ShowDuration" Value="5000"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="25" BorderBrush="#FF42A5F5" BorderThickness="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF42A5F5" Offset="0"/>
                                            <GradientStop Color="#FF7C4DFF" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FF42A5F5" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="Border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="25" CenterY="25"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF3A8FD1" Offset="0"/>
                                            <GradientStop Color="#FF673AB7" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для TextBox -->
        <Style x:Key="SearchTextBoxStyle" TargetType="TextBox" BasedOn="{StaticResource MaterialDesignFloatingHintTextBox}">
            <Setter Property="Height" Value="56"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Foreground" Value="#FFFFFFFF"/>
            <Setter Property="CaretBrush" Value="#FF42A5F5"/>
            <Setter Property="SelectionBrush" Value="#FF42A5F5"/>
            <Setter Property="BorderThickness" Value="0,0,0,2"/>
            <Setter Property="BorderBrush" Value="#FF888888"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Padding" Value="0,0,10,0"/>
            <Setter Property="materialDesign:HintAssist.Foreground" Value="#FF888888"/>
            <Setter Property="materialDesign:HintAssist.FloatingOffset" Value="0,-20"/>
            <Style.Triggers>
                <Trigger Property="IsFocused" Value="True">
                    <Setter Property="BorderBrush" Value="#FF42A5F5"/>
                    <Setter Property="BorderThickness" Value="0,0,0,3"/>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="#FF42A5F5"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Стиль для ComboBox -->
        <Style x:Key="UserRoleComboBoxStyle" TargetType="ComboBox" BasedOn="{StaticResource MaterialDesignFloatingHintComboBox}">
            <Setter Property="Height" Value="56"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Foreground" Value="#FFFFFFFF"/>
            <Setter Property="BorderThickness" Value="0,0,0,2"/>
            <Setter Property="BorderBrush" Value="#FF888888"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Padding" Value="0,0,10,0"/>
            <Setter Property="materialDesign:HintAssist.Foreground" Value="#FF888888"/>
            <Setter Property="materialDesign:HintAssist.FloatingOffset" Value="0,-20"/>
            <Setter Property="ItemContainerStyle">
                <Setter.Value>
                    <Style TargetType="ComboBoxItem">
                        <Setter Property="Foreground" Value="#FFFFFFFF"/>
                        <Setter Property="Background" Value="Transparent"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF3A3A3A"/>
                                <Setter Property="Foreground" Value="#FFFFFFFF"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="#FF42A5F5"/>
                                <Setter Property="Foreground" Value="#FFFFFFFF"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsFocused" Value="True">
                    <Setter Property="BorderBrush" Value="#FF42A5F5"/>
                    <Setter Property="BorderThickness" Value="0,0,0,3"/>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="#FF42A5F5"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Стиль для DataGrid -->
        <Style x:Key="DataGridStyle" TargetType="DataGrid">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#FF2E2E2E" Offset="0"/>
                        <GradientStop Color="#FF3A3A3A" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="#FFE0E0E0"/>
            <Setter Property="BorderBrush" Value="#FF424242"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="RowBackground" Value="#FF2E2E2E"/>
            <Setter Property="AlternatingRowBackground" Value="#FF3A3A3A"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#FF42A5F5" BlurRadius="10" ShadowDepth="0" Opacity="0.3"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для карточек -->
        <Style x:Key="AdminCardStyle" TargetType="Border">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#FF1C2526" Offset="0"/>
                        <GradientStop Color="#FF2A3435" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="BorderBrush" Value="#FF424242"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="20"/>
            <Setter Property="Margin" Value="20,15"/>
            <Setter Property="Padding" Value="25"/>
            <Setter Property="Width" Value="600"/>
            <Setter Property="MaxWidth" Value="800"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#FF000000" BlurRadius="20" ShadowDepth="3" Opacity="0.5"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#FF42A5F5" BlurRadius="25" ShadowDepth="5" Opacity="0.7"/>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <TranslateTransform Y="-5"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
                <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                    <Setter Property="Width" Value="1000"/>
                    <Setter Property="MaxWidth" Value="1200"/>
                    <Setter Property="Margin" Value="30,20"/>
                    <Setter Property="Padding" Value="35"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <!-- Стиль для карточки на вкладке "Пользователи" с увеличенной шириной -->
        <Style x:Key="UsersAdminCardStyle" TargetType="Border" BasedOn="{StaticResource AdminCardStyle}">
            <Setter Property="Width" Value="800"/>
            <Setter Property="MaxWidth" Value="1000"/>
            <Style.Triggers>
                <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                    <Setter Property="Width" Value="1400"/>
                    <Setter Property="MaxWidth" Value="1600"/>
                    <Setter Property="Margin" Value="30,20"/>
                    <Setter Property="Padding" Value="35"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <!-- Основная разметка окна -->
    <Grid x:Name="MainGrid">
        <Grid.Clip>
            <RectangleGeometry RadiusX="20" RadiusY="20"/>
        </Grid.Clip>
        <Border x:Name="MainBorder" CornerRadius="20">
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#FF1E1E1E" Offset="0"/>
                    <GradientStop Color="#FF2E2E2E" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition x:Name="SidebarColumn" Width="80"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Боковая панель -->
                <Border Style="{StaticResource SidebarStyle}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <!-- Заголовок -->
                        <TextBlock Text="TaxiGO" Foreground="#FFE0E0E0" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,20,0,20"/>
                        <!-- Кнопки навигации -->
                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Button x:Name="UsersNavButton" Grid.Row="0" Tag="Active" Click="NavButton_Click" Style="{StaticResource NavButtonStyle}" ToolTip="Пользователи">
                                <materialDesign:PackIcon Kind="AccountMultiple" Width="24" Height="24"/>
                            </Button>
                            <Button x:Name="TariffsNavButton" Grid.Row="1" Click="NavButton_Click" Style="{StaticResource NavButtonStyle}" ToolTip="Тарифы">
                                <materialDesign:PackIcon Kind="CurrencyUsd" Width="24" Height="24"/>
                            </Button>
                            <Button x:Name="PromoCodesNavButton" Grid.Row="2" Click="NavButton_Click" Style="{StaticResource NavButtonStyle}" ToolTip="Промокоды">
                                <materialDesign:PackIcon Kind="TicketPercent" Width="24" Height="24"/>
                            </Button>
                        </Grid>
                        <!-- Кнопка выхода -->
                        <Button Grid.Row="2" Style="{StaticResource LogoutButtonStyle}" Click="LogoutButton_Click" ToolTip="Выйти">
                            <materialDesign:PackIcon Kind="Logout" Width="24" Height="24"/>
                        </Button>
                    </Grid>
                </Border>

                <!-- Основное содержимое -->
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#FF2A2A2A" Offset="0"/>
                            <GradientStop Color="#FF424242" Offset="1"/>
                        </LinearGradientBrush>
                    </Grid.Background>

                    <!-- Панель заголовка -->
                    <Border Background="#FF252525" BorderBrush="#FF42A5F5" BorderThickness="0,0,0,1" MouseDown="TitleBar_MouseDown">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <!-- Заголовок -->
                            <TextBlock x:Name="WelcomeText" Text="Пользователи" Foreground="#FFE0E0E0" FontSize="20" FontWeight="Bold" Margin="20,10" VerticalAlignment="Center"/>
                            <!-- Кнопки управления окном -->
                            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                <Button x:Name="MinimizeButton" Click="MinimizeButton_Click" Style="{StaticResource WindowControlButtonStyle}">
                                    <materialDesign:PackIcon Kind="WindowMinimize" Foreground="#FFD1D1D1" Width="16" Height="16"/>
                                </Button>
                                <Button x:Name="MaximizeRestoreButton" Click="MaximizeRestoreButton_Click" Style="{StaticResource WindowControlButtonStyle}">
                                    <materialDesign:PackIcon x:Name="MaximizeRestoreIcon" Kind="WindowMaximize" Foreground="#FFD1D1D1" Width="16" Height="16"/>
                                </Button>
                                <Button x:Name="CloseButton" Click="CloseButton_Click" Style="{StaticResource CloseButtonStyle}">
                                    <materialDesign:PackIcon Kind="Close" Foreground="#FFD1D1D1" Width="16" Height="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Содержимое -->
                    <Grid Grid.Row="1" Margin="20">
                        <!-- Вкладка "Пользователи" -->
                        <Grid x:Name="UsersPanel" Opacity="1" Visibility="Visible">
                            <Grid.RenderTransform>
                                <TranslateTransform X="0"/>
                            </Grid.RenderTransform>
                            <ScrollViewer VerticalScrollBarVisibility="Auto">
                                <Border Style="{StaticResource UsersAdminCardStyle}">
                                    <!-- Изменено на UsersAdminCardStyle -->
                                    <Border.RenderTransform>
                                        <TranslateTransform X="0" Y="0"/>
                                    </Border.RenderTransform>
                                    <Border.Triggers>
                                        <EventTrigger RoutedEvent="Loaded">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.4"/>
                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)" From="30" To="0" Duration="0:0:0.4">
                                                        <DoubleAnimation.EasingFunction>
                                                            <SineEase EasingMode="EaseOut"/>
                                                        </DoubleAnimation.EasingFunction>
                                                    </DoubleAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="0" To="-5" Duration="0:0:0.2">
                                                        <DoubleAnimation.EasingFunction>
                                                            <SineEase EasingMode="EaseOut"/>
                                                        </DoubleAnimation.EasingFunction>
                                                    </DoubleAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="-5" To="0" Duration="0:0:0.2">
                                                        <DoubleAnimation.EasingFunction>
                                                            <SineEase EasingMode="EaseIn"/>
                                                        </DoubleAnimation.EasingFunction>
                                                    </DoubleAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </Border.Triggers>
                                    <StackPanel>
                                        <!-- Фильтры и поиск -->
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <ComboBox x:Name="UserRoleFilter" Width="150" Margin="0,0,10,0" Style="{StaticResource UserRoleComboBoxStyle}" materialDesign:HintAssist.Hint="Тип пользователя" SelectionChanged="UserRoleFilter_SelectionChanged">
                                                <ComboBoxItem Content="Все"/>
                                                <ComboBoxItem Content="Клиент"/>
                                                <ComboBoxItem Content="Водитель"/>
                                                <ComboBoxItem Content="Диспетчер"/>
                                                <ComboBoxItem Content="Админ"/>
                                            </ComboBox>
                                            <TextBox x:Name="UserSearchBox" Grid.Column="1" materialDesign:HintAssist.Hint="Поиск (имя, телефон, email)" Style="{StaticResource SearchTextBoxStyle}" TextChanged="UserSearchBox_TextChanged"/>
                                            <Button x:Name="ClearFiltersButton" Grid.Column="2" Content="Очистить" Click="ClearFilters_Click" Style="{StaticResource CancelButtonStyle}" Width="100" Margin="10,0,0,0"/>
                                        </Grid>
                                        <!-- Таблица пользователей -->
                                        <DataGrid x:Name="UsersGrid" Style="{StaticResource DataGridStyle}" HorizontalScrollBarVisibility="Auto" SelectionChanged="UsersGrid_SelectionChanged" Width="Auto">
                                            <!-- Изменено на Auto -->
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="ID" Binding="{Binding UserId}" IsReadOnly="True" Width="*"/>
                                                <DataGridTextColumn Header="Логин" Binding="{Binding Login}" IsReadOnly="True" Width="*"/>
                                                <DataGridTextColumn Header="Имя" Binding="{Binding Name}" Width="*"/>
                                                <DataGridTextColumn Header="Роль" Binding="{Binding Role}" IsReadOnly="True" Width="*"/>
                                                <DataGridTextColumn Header="Телефон" Binding="{Binding Phone}" Width="*"/>
                                                <DataGridTextColumn Header="Email" Binding="{Binding Email, Converter={StaticResource NullToTextConverter}, ConverterParameter='Нет email'}" Width="*"/>
                                                <DataGridTextColumn Header="Адрес" Binding="{Binding Address, Converter={StaticResource NullToTextConverter}, ConverterParameter='Нет адреса'}" Width="*"/>
                                                <DataGridTextColumn Header="Дата регистрации" Binding="{Binding RegistrationDate, StringFormat={}{0:dd.MM.yyyy}, Converter={StaticResource NullToTextConverter}, ConverterParameter='Не указана'}" IsReadOnly="True" Width="*"/>
                                                <DataGridTextColumn Header="Аватар" Binding="{Binding AvatarPath, Converter={StaticResource NullToTextConverter}, ConverterParameter='Нет аватара'}" IsReadOnly="True" Width="*"/>
                                                <DataGridTextColumn Header="Транспорт" Binding="{Binding Vehicle.Model, Converter={StaticResource NullToTextConverter}, ConverterParameter='Нет транспорта'}" IsReadOnly="True" Width="*"/>
                                                <DataGridTextColumn Header="Статус" Binding="{Binding IsActive, Converter={StaticResource BooleanToTextConverter}}" IsReadOnly="True" Width="*"/>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                        <!-- Кнопки -->
                                        <WrapPanel HorizontalAlignment="Right" Margin="0,20,0,0" MaxWidth="1000">
                                            <!-- Увеличено с 800 до 1000 -->
                                            <Button x:Name="EditUserButton" Click="EditUser_Click" Style="{StaticResource EditButtonStyle}" ToolTip="Редактировать">
                                                <materialDesign:PackIcon Kind="Pencil" Width="24" Height="24"/>
                                            </Button>
                                            <Button x:Name="SaveUserButton" Content="Сохранить" Click="SaveUserEdit_Click" Style="{StaticResource ActionButtonStyle}" Margin="10,0,0,0" Visibility="Collapsed"/>
                                            <Button x:Name="ResetPasswordButton" Content="Сбросить пароль" Click="ResetUserPassword_Click" Style="{StaticResource ActionButtonStyle}" Margin="10,0,0,0" Visibility="Collapsed"/>
                                            <Button x:Name="ToggleActiveButton" Content="Переключить активность" Click="ToggleUserActive_Click" Style="{StaticResource ActionButtonStyle}" Margin="10,0,0,0" Visibility="Collapsed"/>
                                            <Button x:Name="CancelButton" Content="Отмена" Click="CancelAction_Click" Style="{StaticResource CancelButtonStyle}" Margin="10,0,0,0" Visibility="Collapsed"/>
                                            <Button x:Name="RefreshButton" Content="Обновить" Click="RefreshUsers_Click" Style="{StaticResource ActionButtonStyle}" Margin="10,0,0,0"/>
                                        </WrapPanel>
                                    </StackPanel>
                                </Border>
                            </ScrollViewer>
                        </Grid>

                        <!-- Вкладка "Тарифы" -->
                        <Grid x:Name="TariffsPanel" Opacity="0" Visibility="Hidden">
                            <Grid.RenderTransform>
                                <TranslateTransform X="0"/>
                            </Grid.RenderTransform>
                            <ScrollViewer VerticalScrollBarVisibility="Auto">
                                <Border Style="{StaticResource AdminCardStyle}">
                                    <Border.RenderTransform>
                                        <TranslateTransform X="0" Y="0"/>
                                    </Border.RenderTransform>
                                    <Border.Triggers>
                                        <EventTrigger RoutedEvent="Loaded">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.4"/>
                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)" From="30" To="0" Duration="0:0:0.4">
                                                        <DoubleAnimation.EasingFunction>
                                                            <SineEase EasingMode="EaseOut"/>
                                                        </DoubleAnimation.EasingFunction>
                                                    </DoubleAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="0" To="-5" Duration="0:0:0.2">
                                                        <DoubleAnimation.EasingFunction>
                                                            <SineEase EasingMode="EaseOut"/>
                                                        </DoubleAnimation.EasingFunction>
                                                    </DoubleAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="-5" To="0" Duration="0:0:0.2">
                                                        <DoubleAnimation.EasingFunction>
                                                            <SineEase EasingMode="EaseIn"/>
                                                        </DoubleAnimation.EasingFunction>
                                                    </DoubleAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </Border.Triggers>
                                    <StackPanel>
                                        <DataGrid x:Name="TariffsGrid" Style="{StaticResource DataGridStyle}" SelectionChanged="TariffsGrid_SelectionChanged">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="ID" Binding="{Binding TariffId}" IsReadOnly="True"/>
                                                <DataGridTextColumn Header="Название" Binding="{Binding Name}" IsReadOnly="True"/>
                                                <DataGridTextColumn Header="Базовая цена" Binding="{Binding BasePrice, StringFormat={}{0:F2} ₽}" IsReadOnly="True"/>
                                                <DataGridTextColumn Header="Цена за км" Binding="{Binding PricePerKm, StringFormat={}{0:F2} ₽}" IsReadOnly="True"/>
                                                <DataGridTextColumn Header="Штраф за ожидание" Binding="{Binding WaitingPenaltyPerMin, StringFormat={}{0:F2} ₽/мин}" IsReadOnly="True"/>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                        <Grid Margin="0,15,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <materialDesign:PackIcon Kind="Tag" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                            <TextBox x:Name="TariffName" Grid.Column="1" materialDesign:HintAssist.Hint="Название тарифа" Style="{StaticResource SearchTextBoxStyle}"/>
                                        </Grid>
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <materialDesign:PackIcon Kind="CurrencyRub" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                            <TextBox x:Name="BasePrice" Grid.Column="1" materialDesign:HintAssist.Hint="Базовая цена" Style="{StaticResource SearchTextBoxStyle}"/>
                                        </Grid>
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <materialDesign:PackIcon Kind="Ruler" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                            <TextBox x:Name="PricePerKm" Grid.Column="1" materialDesign:HintAssist.Hint="Цена за км" Style="{StaticResource SearchTextBoxStyle}"/>
                                        </Grid>
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <materialDesign:PackIcon Kind="Clock" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                            <TextBox x:Name="WaitingPenalty" Grid.Column="1" materialDesign:HintAssist.Hint="Штраф за ожидание (₽/мин)" Style="{StaticResource SearchTextBoxStyle}"/>
                                        </Grid>
                                        <WrapPanel HorizontalAlignment="Right" Margin="0,20,0,0" MaxWidth="600">
                                            <Button x:Name="EditTariffButton" Click="EditTariff_Click" Style="{StaticResource EditButtonStyle}" ToolTip="Редактировать">
                                                <materialDesign:PackIcon Kind="Pencil" Width="24" Height="24"/>
                                            </Button>
                                            <Button x:Name="SaveTariffButton" Content="Сохранить" Click="SaveTariffEdit_Click" Style="{StaticResource ActionButtonStyle}" Margin="10,0,0,0" Visibility="Collapsed"/>
                                            <Button x:Name="AddTariffButton" Content="Добавить тариф" Click="AddTariff_Click" Style="{StaticResource ActionButtonStyle}" Margin="10,0,0,0" Visibility="Visible"/>
                                            <Button x:Name="CancelTariffButton" Content="Отмена" Click="CancelAction_Click" Style="{StaticResource CancelButtonStyle}" Margin="10,0,0,0" Visibility="Collapsed"/>
                                        </WrapPanel>
                                    </StackPanel>
                                </Border>
                            </ScrollViewer>
                        </Grid>

                        <!-- Вкладка "Промокоды" -->
                        <Grid x:Name="PromoCodesPanel" Opacity="0" Visibility="Hidden">
                            <Grid.RenderTransform>
                                <TranslateTransform X="0"/>
                            </Grid.RenderTransform>
                            <ScrollViewer VerticalScrollBarVisibility="Auto">
                                <Border Style="{StaticResource AdminCardStyle}">
                                    <Border.RenderTransform>
                                        <TranslateTransform X="0" Y="0"/>
                                    </Border.RenderTransform>
                                    <Border.Triggers>
                                        <EventTrigger RoutedEvent="Loaded">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.4"/>
                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)" From="30" To="0" Duration="0:0:0.4">
                                                        <DoubleAnimation.EasingFunction>
                                                            <SineEase EasingMode="EaseOut"/>
                                                        </DoubleAnimation.EasingFunction>
                                                    </DoubleAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="0" To="-5" Duration="0:0:0.2">
                                                        <DoubleAnimation.EasingFunction>
                                                            <SineEase EasingMode="EaseOut"/>
                                                        </DoubleAnimation.EasingFunction>
                                                    </DoubleAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="-5" To="0" Duration="0:0:0.2">
                                                        <DoubleAnimation.EasingFunction>
                                                            <SineEase EasingMode="EaseIn"/>
                                                        </DoubleAnimation.EasingFunction>
                                                    </DoubleAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </Border.Triggers>
                                    <StackPanel>
                                        <DataGrid x:Name="PromoCodesGrid" Style="{StaticResource DataGridStyle}" SelectionChanged="PromoCodesGrid_SelectionChanged">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="ID" Binding="{Binding PromoCodeId}" IsReadOnly="True"/>
                                                <DataGridTextColumn Header="Код" Binding="{Binding Code}" IsReadOnly="True"/>
                                                <DataGridTextColumn Header="Скидка (%)" Binding="{Binding DiscountPercent}" IsReadOnly="True"/>
                                                <DataGridTextColumn Header="Срок действия" Binding="{Binding ExpiryDate, StringFormat={}{0:dd.MM.yyyy}}" IsReadOnly="True"/>
                                                <DataGridTextColumn Header="Статус" Binding="{Binding IsActive, Converter={StaticResource BooleanToTextConverter}}" IsReadOnly="True"/>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                        <Grid Margin="0,15,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <materialDesign:PackIcon Kind="Ticket" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                            <TextBox x:Name="PromoCodeText" Grid.Column="1" materialDesign:HintAssist.Hint="Код" Style="{StaticResource SearchTextBoxStyle}"/>
                                        </Grid>
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <materialDesign:PackIcon Kind="Percent" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                            <TextBox x:Name="Discount" Grid.Column="1" materialDesign:HintAssist.Hint="Скидка (%)" Style="{StaticResource SearchTextBoxStyle}"/>
                                        </Grid>
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <materialDesign:PackIcon Kind="Calendar" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                            <DatePicker x:Name="ExpiryDate" Grid.Column="1" materialDesign:HintAssist.Hint="Срок действия" Style="{StaticResource MaterialDesignFloatingHintDatePicker}" Height="56" FontSize="16" Foreground="#FFFFFFFF" materialDesign:HintAssist.Foreground="#FF888888" materialDesign:HintAssist.FloatingOffset="0,-20">
                                                <DatePicker.Resources>
                                                    <Style TargetType="DatePicker" BasedOn="{StaticResource MaterialDesignFloatingHintDatePicker}">
                                                        <Setter Property="BorderThickness" Value="0,0,0,2"/>
                                                        <Setter Property="BorderBrush" Value="#FF888888"/>
                                                        <Setter Property="Background" Value="#FF2E2E2E"/>
                                                        <Setter Property="Padding" Value="0,0,10,0"/>
                                                        <Style.Triggers>
                                                            <Trigger Property="IsFocused" Value="True">
                                                                <Setter Property="BorderBrush" Value="#FF42A5F5"/>
                                                                <Setter Property="BorderThickness" Value="0,0,0,3"/>
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </DatePicker.Resources>
                                            </DatePicker>
                                        </Grid>
                                        <WrapPanel HorizontalAlignment="Right" Margin="0,20,0,0" MaxWidth="600">
                                            <Button x:Name="EditPromoCodeButton" Click="EditPromoCode_Click" Style="{StaticResource EditButtonStyle}" ToolTip="Редактировать">
                                                <materialDesign:PackIcon Kind="Pencil" Width="24" Height="24"/>
                                            </Button>
                                            <Button x:Name="SavePromoCodeButton" Content="Сохранить" Click="SavePromoCodeEdit_Click" Style="{StaticResource ActionButtonStyle}" Margin="10,0,0,0" Visibility="Collapsed"/>
                                            <Button x:Name="TogglePromoCodeActiveButton" Content="Переключить активность" Click="TogglePromoCodeActive_Click" Style="{StaticResource ActionButtonStyle}" Margin="10,0,0,0" Visibility="Collapsed"/>
                                            <Button x:Name="AddPromoCodeButton" Content="Добавить промокод" Click="AddPromoCode_Click" Style="{StaticResource ActionButtonStyle}" Margin="10,0,0,0" Visibility="Visible"/>
                                            <Button x:Name="CancelPromoCodeButton" Content="Отмена" Click="CancelAction_Click" Style="{StaticResource CancelButtonStyle}" Margin="10,0,0,0" Visibility="Collapsed"/>
                                        </WrapPanel>
                                    </StackPanel>
                                </Border>
                            </ScrollViewer>
                        </Grid>
                    </Grid>
                </Grid>
            </Grid>
        </Border>

        <!-- Snackbar -->
        <materialDesign:Snackbar x:Name="Snackbar" Grid.ColumnSpan="2" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,20"/>
    </Grid>
</Window>