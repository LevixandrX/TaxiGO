<Window x:Class="TaxiGO.DriverWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:TaxiGO"
        xmlns:gmaps="clr-namespace:GMap.NET.WindowsPresentation;assembly=GMap.NET.WindowsPresentation"
        Title="TaxiGO - Водитель" 
        Height="600" 
        MinHeight="500"
        Width="1000" 
        MinWidth="800"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None" 
        AllowsTransparency="True" 
        Background="Transparent">
    <Window.Resources>
        <!-- Конвертер для видимости -->
        <local:StatusToVisibilityConverter x:Key="StatusToVisibilityConverter"/>

        <!-- Анимации для переходов между вкладками -->
        <Storyboard x:Key="SlideOutLeftAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0.2" Duration="0:0:0.3"/>
            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)" From="0" To="-50" Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <SineEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        <Storyboard x:Key="SlideInRightAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0.2" To="1" Duration="0:0:0.3"/>
            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)" From="50" To="0" Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <SineEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <!-- Стиль для боковой панели -->
        <Style x:Key="SidebarStyle" TargetType="Border">
            <Setter Property="Background" Value="#FF1E1E1E"/>
            <Setter Property="Visibility" Value="Visible"/>
        </Style>

        <!-- Стиль для кнопок навигации -->
        <Style x:Key="NavButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FFD1D1D1"/>
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="10,5"/>
            <Setter Property="Width" Value="50"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="ToolTipService.InitialShowDelay" Value="500"/>
            <Setter Property="ToolTipService.ShowDuration" Value="5000"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="25">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF3A3A3A" Offset="0"/>
                                            <GradientStop Color="#FF4A4A4A" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FF42A5F5" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="Border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="25" CenterY="25"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF2A2A2A" Offset="0"/>
                                            <GradientStop Color="#FF3A3A3A" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="Tag" Value="Active">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF42A5F5" Offset="0"/>
                                            <GradientStop Color="#FF7C4DFF" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для кнопки "Выйти" -->
        <Style x:Key="LogoutButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FFFF6B6B"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="10,5"/>
            <Setter Property="Width" Value="50"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="ToolTipService.InitialShowDelay" Value="500"/>
            <Setter Property="ToolTipService.ShowDuration" Value="5000"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="25" BorderBrush="#FFFF6B6B" BorderThickness="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FFFF6B6B"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FFFF6B6B" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="Border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="25" CenterY="25"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FFCC5252"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для кнопок управления окном -->
        <Style x:Key="WindowControlButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FF3A3A3A"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FF4A4A4A"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для кнопки закрытия -->
        <Style x:Key="CloseButtonStyle" TargetType="Button" BasedOn="{StaticResource WindowControlButtonStyle}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FF8B0000"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FF4A4A4A"/>
                            </Trigger>
                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                <Setter Property="ContentTemplate">
                                    <Setter.Value>
                                        <DataTemplate>
                                            <ContentPresenter Content="{Binding RelativeSource={RelativeSource AncestorType=ContentPresenter}, Path=Content}" Margin="-7,0,0,0"/>
                                        </DataTemplate>
                                    </Setter.Value>
                                </Setter>
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для основных кнопок -->
        <Style x:Key="ActionButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FF42A5F5"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="10,5"/>
            <Setter Property="Width" Value="120"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="20" BorderBrush="#FF42A5F5" BorderThickness="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF42A5F5" Offset="0"/>
                                            <GradientStop Color="#FF7C4DFF" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FF42A5F5" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="Border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="60" CenterY="20"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF3A8FD1" Offset="0"/>
                                            <GradientStop Color="#FF673AB7" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для кнопок отмены -->
        <Style x:Key="CancelButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FFFF6B6B"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="10,5"/>
            <Setter Property="Width" Value="120"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="20" BorderBrush="#FFFF6B6B" BorderThickness="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FFFF6B6B"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FFFF6B6B" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="Border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="60" CenterY="20"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#FFCC5252"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для кнопок управления картой -->
        <Style x:Key="MapControlButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF3A3A3A"/>
            <Setter Property="Foreground" Value="#FFE0E0E0"/>
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Margin" Value="0,5,0,0"/>
            <Setter Property="HorizontalAlignment" Value="Right"/>
            <Setter Property="VerticalAlignment" Value="Top"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="ToolTipService.InitialShowDelay" Value="500"/>
            <Setter Property="ToolTipService.ShowDuration" Value="5000"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="20">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF42A5F5" Offset="0"/>
                                            <GradientStop Color="#FF7C4DFF" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FF42A5F5" BlurRadius="10" ShadowDepth="0" Opacity="0.5"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="Border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.1" ScaleY="1.1" CenterX="20" CenterY="20"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF3A8FD1" Offset="0"/>
                                            <GradientStop Color="#FF673AB7" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для карточек заказов -->
        <Style x:Key="OrderCardStyle" TargetType="Border">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#FF1C2526" Offset="0"/>
                        <GradientStop Color="#FF2A3435" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="BorderBrush" Value="#FF424242"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="20"/>
            <Setter Property="Margin" Value="20,15"/>
            <Setter Property="Padding" Value="25"/>
            <Setter Property="Width" Value="600"/>
            <Setter Property="MaxWidth" Value="800"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#FF000000" BlurRadius="20" ShadowDepth="3" Opacity="0.5"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#FF42A5F5" BlurRadius="25" ShadowDepth="5" Opacity="0.7"/>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <TranslateTransform Y="-5"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
                <DataTrigger Binding="{Binding Status}" Value="Completed">
                    <Setter Property="BorderBrush" Value="#FF4CAF50"/>
                    <Setter Property="BorderThickness" Value="2"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Status}" Value="Pending">
                    <Setter Property="BorderBrush" Value="#FFFFC107"/>
                    <Setter Property="BorderThickness" Value="2"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Status}" Value="Canceled">
                    <Setter Property="BorderBrush" Value="#FFF44336"/>
                    <Setter Property="BorderThickness" Value="2"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Status}" Value="Accepted">
                    <Setter Property="BorderBrush" Value="#FF2196F3"/>
                    <Setter Property="BorderThickness" Value="2"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                    <Setter Property="Width" Value="900"/>
                    <Setter Property="MaxWidth" Value="1000"/>
                    <Setter Property="Margin" Value="30,20"/>
                    <Setter Property="Padding" Value="35"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <!-- Стиль для текста в карточках заказов -->
        <Style x:Key="OrderCardTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#FFB0B0B0"/>
            <Setter Property="Margin" Value="0,3,0,3"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Style.Triggers>
                <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                    <Setter Property="FontSize" Value="16"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <!-- Стиль для кнопки редактирования профиля -->
        <Style x:Key="EditButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FF42A5F5"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="10,5"/>
            <Setter Property="Width" Value="50"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="ToolTipService.InitialShowDelay" Value="500"/>
            <Setter Property="ToolTipService.ShowDuration" Value="5000"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Border" Background="{TemplateBinding Background}" CornerRadius="25" BorderBrush="#FF42A5F5" BorderThickness="2">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF42A5F5" Offset="0"/>
                                            <GradientStop Color="#FF7C4DFF" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter TargetName="Border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#FF42A5F5" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="Border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="25" CenterY="25"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="Border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF3A8FD1" Offset="0"/>
                                            <GradientStop Color="#FF673AB7" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <!-- Основная разметка окна -->
    <Grid x:Name="MainGrid">
        <Grid.Clip>
            <RectangleGeometry RadiusX="20" RadiusY="20"/>
        </Grid.Clip>
        <Border x:Name="MainBorder" CornerRadius="20">
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#FF1E1E1E" Offset="0"/>
                    <GradientStop Color="#FF2E2E2E" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition x:Name="SidebarColumn" Width="80"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Боковая панель -->
                <Border Style="{StaticResource SidebarStyle}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <!-- Заголовок -->
                        <TextBlock Text="TaxiGO" Foreground="#FFE0E0E0" FontSize="18" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,20,0,20"/>
                        <!-- Кнопки навигации -->
                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Button x:Name="AvailableOrdersNavButton" Grid.Row="0" Tag="Active" Click="NavButton_Click" Style="{StaticResource NavButtonStyle}" ToolTip="Доступные заказы">
                                <materialDesign:PackIcon Kind="PackageVariantClosed" Width="24" Height="24"/>
                            </Button>
                            <Button x:Name="MyOrdersNavButton" Grid.Row="1" Click="NavButton_Click" Style="{StaticResource NavButtonStyle}" ToolTip="Мои заказы">
                                <materialDesign:PackIcon Kind="Car" Width="24" Height="24"/>
                            </Button>
                            <Button x:Name="ProfileNavButton" Grid.Row="2" Click="NavButton_Click" Style="{StaticResource NavButtonStyle}" ToolTip="Профиль">
                                <materialDesign:PackIcon Kind="Account" Width="24" Height="24"/>
                            </Button>
                        </Grid>
                        <!-- Кнопка выхода -->
                        <Button Grid.Row="2" Style="{StaticResource LogoutButtonStyle}" Click="LogoutButton_Click" ToolTip="Выйти">
                            <materialDesign:PackIcon Kind="Logout" Width="24" Height="24"/>
                        </Button>
                    </Grid>
                </Border>

                <!-- Основное содержимое -->
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#FF2A2A2A" Offset="0"/>
                            <GradientStop Color="#FF424242" Offset="1"/>
                        </LinearGradientBrush>
                    </Grid.Background>

                    <!-- Панель заголовка -->
                    <Border Background="#FF252525" BorderBrush="#FF42A5F5" BorderThickness="0,0,0,1" MouseDown="TitleBar_MouseDown">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <!-- Заголовок -->
                            <TextBlock x:Name="WelcomeText" Text="Доступные заказы" Foreground="#FFE0E0E0" FontSize="20" FontWeight="Bold" Margin="20,10" VerticalAlignment="Center"/>
                            <!-- Кнопки управления окном -->
                            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                <Button x:Name="MinimizeButton" Click="MinimizeButton_Click" Style="{StaticResource WindowControlButtonStyle}">
                                    <materialDesign:PackIcon Kind="WindowMinimize" Foreground="#FFD1D1D1" Width="16" Height="16"/>
                                </Button>
                                <Button x:Name="MaximizeRestoreButton" Click="MaximizeRestoreButton_Click" Style="{StaticResource WindowControlButtonStyle}">
                                    <materialDesign:PackIcon x:Name="MaximizeRestoreIcon" Kind="WindowMaximize" Foreground="#FFD1D1D1" Width="16" Height="16"/>
                                </Button>
                                <Button x:Name="CloseButton" Click="CloseButton_Click" Style="{StaticResource CloseButtonStyle}">
                                    <materialDesign:PackIcon Kind="Close" Foreground="#FFD1D1D1" Width="16" Height="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Содержимое -->
                    <Grid Grid.Row="1" Margin="20">
                        <!-- Вкладка "Доступные заказы" -->
                        <Grid x:Name="AvailableOrdersPanel" Opacity="1" Visibility="Visible">
                            <Grid.RenderTransform>
                                <TranslateTransform X="0"/>
                            </Grid.RenderTransform>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="350"/>
                            </Grid.ColumnDefinitions>

                            <!-- Переключатель доступности -->
                            <Border Grid.Row="0" Grid.Column="1" CornerRadius="15" Background="#FF2E2E2E" Margin="0,0,10,10" Padding="10">
                                <Border.Effect>
                                    <DropShadowEffect Color="#FF42A5F5" BlurRadius="8" ShadowDepth="0" Opacity="0.3"/>
                                </Border.Effect>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <materialDesign:PackIcon Kind="Taxi" Width="18" Height="18" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                    <TextBlock Text="Доступность:" FontSize="14" FontWeight="SemiBold" Foreground="#FFE0E0E0" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <ToggleButton x:Name="AvailabilityToggle" Width="60" Height="28" IsChecked="False" Checked="AvailabilityToggle_Checked" Unchecked="AvailabilityToggle_Unchecked">
                                        <ToggleButton.Template>
                                            <ControlTemplate TargetType="ToggleButton">
                                                <Grid>
                                                    <Border x:Name="BackgroundBorder" Width="60" Height="28" CornerRadius="14" Background="#FF555555">
                                                        <Border x:Name="SliderCircle" Width="24" Height="24" CornerRadius="12" HorizontalAlignment="Left" Margin="2,2,0,2">
                                                            <Border.Background>
                                                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                                    <GradientStop Color="#FFE0E0E0" Offset="0"/>
                                                                    <GradientStop Color="#FFB0B0B0" Offset="1"/>
                                                                </LinearGradientBrush>
                                                            </Border.Background>
                                                            <Border.Effect>
                                                                <DropShadowEffect Color="#FF000000" BlurRadius="5" ShadowDepth="0" Opacity="0.3"/>
                                                            </Border.Effect>
                                                        </Border>
                                                    </Border>
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Grid>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsChecked" Value="True">
                                                        <Setter TargetName="BackgroundBorder" Property="Background">
                                                            <Setter.Value>
                                                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                                    <GradientStop Color="#FF42A5F5" Offset="0"/>
                                                                    <GradientStop Color="#FF7C4DFF" Offset="1"/>
                                                                </LinearGradientBrush>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Setter TargetName="SliderCircle" Property="Margin" Value="34,2,0,2"/>
                                                        <Setter TargetName="SliderCircle" Property="Background">
                                                            <Setter.Value>
                                                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                                    <GradientStop Color="#FFFFFFFF" Offset="0"/>
                                                                    <GradientStop Color="#FFE0E0E0" Offset="1"/>
                                                                </LinearGradientBrush>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="BackgroundBorder" Property="Effect">
                                                            <Setter.Value>
                                                                <DropShadowEffect Color="#FF42A5F5" BlurRadius="10" ShadowDepth="0" Opacity="0.5"/>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <Trigger Property="IsPressed" Value="True">
                                                        <Setter TargetName="SliderCircle" Property="RenderTransform">
                                                            <Setter.Value>
                                                                <ScaleTransform ScaleX="0.95" ScaleY="0.95" CenterX="12" CenterY="12"/>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Trigger>
                                                    <!-- Анимации -->
                                                    <Trigger Property="IsChecked" Value="True">
                                                        <Trigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <ThicknessAnimation Storyboard.TargetName="SliderCircle" Storyboard.TargetProperty="Margin" From="2,2,0,2" To="34,2,0,2" Duration="0:0:0.2">
                                                                        <ThicknessAnimation.EasingFunction>
                                                                            <SineEase EasingMode="EaseOut"/>
                                                                        </ThicknessAnimation.EasingFunction>
                                                                    </ThicknessAnimation>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </Trigger.EnterActions>
                                                        <Trigger.ExitActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <ThicknessAnimation Storyboard.TargetName="SliderCircle" Storyboard.TargetProperty="Margin" From="34,2,0,2" To="2,2,0,2" Duration="0:0:0.2">
                                                                        <ThicknessAnimation.EasingFunction>
                                                                            <SineEase EasingMode="EaseOut"/>
                                                                        </ThicknessAnimation.EasingFunction>
                                                                    </ThicknessAnimation>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </Trigger.ExitActions>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </ToggleButton.Template>
                                    </ToggleButton>
                                </StackPanel>
                            </Border>

                            <!-- Карта -->
                            <Border Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" CornerRadius="15" Margin="0,0,10,0">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#FF3A3A3A" Offset="0"/>
                                        <GradientStop Color="#FF2E2E2E" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Border.Effect>
                                    <DropShadowEffect Color="#FF42A5F5" BlurRadius="10" ShadowDepth="0" Opacity="0.3"/>
                                </Border.Effect>
                                <Grid>
                                    <gmaps:GMapControl x:Name="MapControl"/>
                                    <!-- Панель управления картой -->
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="10">
                                        <Button x:Name="ZoomInButton" Click="ZoomInButton_Click" Style="{StaticResource MapControlButtonStyle}" ToolTip="Приблизить">
                                            <materialDesign:PackIcon Kind="Plus" Width="20" Height="20"/>
                                        </Button>
                                        <Button x:Name="ZoomOutButton" Click="ZoomOutButton_Click" Style="{StaticResource MapControlButtonStyle}" ToolTip="Отдалить">
                                            <materialDesign:PackIcon Kind="Minus" Width="20" Height="20"/>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <!-- Список заказов -->
                            <ScrollViewer x:Name="AvailableOrdersScrollViewer" Grid.Row="1" Grid.Column="1" VerticalScrollBarVisibility="Auto" Padding="0,0,10,0">
                                <Border Background="#AA2E2E2E" CornerRadius="15" Margin="0,0,0,0">
                                    <Border.Effect>
                                        <DropShadowEffect Color="#FF42A5F5" BlurRadius="10" ShadowDepth="0" Opacity="0.3"/>
                                    </Border.Effect>
                                    <StackPanel x:Name="AvailableOrdersListPanel" Margin="10,10,10,10" HorizontalAlignment="Center">
                                        <ItemsControl x:Name="AvailableOrdersList">
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Border Style="{StaticResource OrderCardStyle}" Width="300" MaxWidth="300" Margin="0,10,0,10" HorizontalAlignment="Center">
                                                        <Border.RenderTransform>
                                                            <TranslateTransform X="0" Y="0"/>
                                                        </Border.RenderTransform>
                                                        <Border.Triggers>
                                                            <EventTrigger RoutedEvent="Loaded">
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.4"/>
                                                                        <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)" From="30" To="0" Duration="0:0:0.4">
                                                                            <DoubleAnimation.EasingFunction>
                                                                                <SineEase EasingMode="EaseOut"/>
                                                                            </DoubleAnimation.EasingFunction>
                                                                        </DoubleAnimation>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </EventTrigger>
                                                            <EventTrigger RoutedEvent="MouseEnter">
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="0" To="-5" Duration="0:0:0.2">
                                                                            <DoubleAnimation.EasingFunction>
                                                                                <SineEase EasingMode="EaseOut"/>
                                                                            </DoubleAnimation.EasingFunction>
                                                                        </DoubleAnimation>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </EventTrigger>
                                                            <EventTrigger RoutedEvent="MouseLeave">
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="-5" To="0" Duration="0:0:0.2">
                                                                            <DoubleAnimation.EasingFunction>
                                                                                <SineEase EasingMode="EaseIn"/>
                                                                            </DoubleAnimation.EasingFunction>
                                                                        </DoubleAnimation>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </EventTrigger>
                                                        </Border.Triggers>
                                                        <Grid>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="Auto"/>
                                                                <RowDefinition Height="Auto"/>
                                                                <RowDefinition Height="Auto"/>
                                                            </Grid.RowDefinitions>
                                                            <!-- Заголовок и дата -->
                                                            <Grid Grid.Row="0" Margin="0,0,0,10">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <materialDesign:PackIcon Kind="Taxi" Width="24" Height="24" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                                <TextBlock Grid.Column="1" Text="{Binding OrderId, StringFormat=Заказ #{0}}" FontSize="16" FontWeight="Bold" Foreground="#FFE0E0E0" VerticalAlignment="Center"/>
                                                                <TextBlock Grid.Column="2" Text="{Binding OrderTime, StringFormat={}{0:dd.MM HH:mm}}" FontSize="12" Foreground="#FFB0B0B0" VerticalAlignment="Center" Margin="5,0,0,0"/>
                                                            </Grid>
                                                            <!-- Основная информация -->
                                                            <Grid Grid.Row="1" Margin="0,0,0,10">
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="Auto"/>
                                                                    <RowDefinition Height="Auto"/>
                                                                    <RowDefinition Height="Auto"/>
                                                                    <RowDefinition Height="Auto"/>
                                                                    <RowDefinition Height="Auto"/>
                                                                </Grid.RowDefinitions>
                                                                <Grid Grid.Row="0" Margin="0,0,0,5">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <ColumnDefinition Width="*"/>
                                                                    </Grid.ColumnDefinitions>
                                                                    <materialDesign:PackIcon Kind="MapMarker" Width="18" Height="18" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                                    <TextBlock Grid.Column="1" Text="{Binding StartPoint, StringFormat=От: {0}}" Style="{StaticResource OrderCardTextStyle}" FontSize="12"/>
                                                                </Grid>
                                                                <Grid Grid.Row="1" Margin="0,0,0,5">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <ColumnDefinition Width="*"/>
                                                                    </Grid.ColumnDefinitions>
                                                                    <materialDesign:PackIcon Kind="MapMarkerCheck" Width="18" Height="18" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                                    <TextBlock Grid.Column="1" Text="{Binding EndPoint, StringFormat=До: {0}}" Style="{StaticResource OrderCardTextStyle}" FontSize="12"/>
                                                                </Grid>
                                                                <Grid Grid.Row="2" Margin="0,0,0,5">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <ColumnDefinition Width="*"/>
                                                                    </Grid.ColumnDefinitions>
                                                                    <materialDesign:PackIcon Kind="Car" Width="18" Height="18" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                                    <TextBlock Grid.Column="1" Text="{Binding Tariff.Name, StringFormat=Тариф: {0}}" Style="{StaticResource OrderCardTextStyle}" FontSize="12"/>
                                                                </Grid>
                                                                <Grid Grid.Row="3" Margin="0,0,0,5">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <ColumnDefinition Width="*"/>
                                                                    </Grid.ColumnDefinitions>
                                                                    <materialDesign:PackIcon Kind="Account" Width="18" Height="18" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                                    <TextBlock Grid.Column="1" Text="{Binding Client.Name, StringFormat=Клиент: {0}}" Style="{StaticResource OrderCardTextStyle}" FontSize="12"/>
                                                                </Grid>
                                                                <Grid Grid.Row="4" Margin="0,0,0,5">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <ColumnDefinition Width="*"/>
                                                                    </Grid.ColumnDefinitions>
                                                                    <materialDesign:PackIcon Kind="Phone" Width="18" Height="18" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                                                    <TextBlock Grid.Column="1" Text="{Binding Client.Phone, StringFormat=Телефон: {0}}" Style="{StaticResource OrderCardTextStyle}" FontSize="12"/>
                                                                </Grid>
                                                            </Grid>
                                                            <!-- Стоимость и кнопка -->
                                                            <Grid Grid.Row="2" Margin="0,0,0,0">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <TextBlock Grid.Column="0" Text="{Binding Cost, StringFormat=Стоимость: {0:F2} ₽}" FontSize="14" Foreground="#FFFFC107" FontWeight="Bold" VerticalAlignment="Center"/>
                                                                <Button Grid.Column="1" Click="AcceptOrder_Click" Tag="{Binding OrderId}" Content="Принять" Style="{StaticResource ActionButtonStyle}" Width="100" Height="35" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                                            </Grid>
                                                        </Grid>
                                                    </Border>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </StackPanel>
                                </Border>
                            </ScrollViewer>
                        </Grid>

                        <!-- Вкладка "Мои заказы" -->
                        <Grid x:Name="MyOrdersPanel" Opacity="0" Visibility="Hidden">
                            <Grid.RenderTransform>
                                <TranslateTransform X="0"/>
                            </Grid.RenderTransform>
                            <ScrollViewer x:Name="MyOrdersScrollViewer" VerticalScrollBarVisibility="Auto" Padding="0,0,15,0">
                                <Border Background="#AA2E2E2E" CornerRadius="15" Margin="0,0,0,0">
                                    <Border.Effect>
                                        <DropShadowEffect Color="#FF42A5F5" BlurRadius="10" ShadowDepth="0" Opacity="0.3"/>
                                    </Border.Effect>
                                    <StackPanel x:Name="MyOrdersFormPanel" Margin="15,15,15,15">
                                        <ItemsControl x:Name="MyOrdersList">
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Border Style="{StaticResource OrderCardStyle}">
                                                        <Border.RenderTransform>
                                                            <TranslateTransform X="0" Y="0"/>
                                                        </Border.RenderTransform>
                                                        <Border.Triggers>
                                                            <EventTrigger RoutedEvent="Loaded">
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.4"/>
                                                                        <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)" From="30" To="0" Duration="0:0:0.4">
                                                                            <DoubleAnimation.EasingFunction>
                                                                                <SineEase EasingMode="EaseOut"/>
                                                                            </DoubleAnimation.EasingFunction>
                                                                        </DoubleAnimation>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </EventTrigger>
                                                            <EventTrigger RoutedEvent="MouseEnter">
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="0" To="-5" Duration="0:0:0.2">
                                                                            <DoubleAnimation.EasingFunction>
                                                                                <SineEase EasingMode="EaseOut"/>
                                                                            </DoubleAnimation.EasingFunction>
                                                                        </DoubleAnimation>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </EventTrigger>
                                                            <EventTrigger RoutedEvent="MouseLeave">
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="-5" To="0" Duration="0:0:0.2">
                                                                            <DoubleAnimation.EasingFunction>
                                                                                <SineEase EasingMode="EaseIn"/>
                                                                            </DoubleAnimation.EasingFunction>
                                                                        </DoubleAnimation>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </EventTrigger>
                                                        </Border.Triggers>
                                                        <Grid>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="Auto"/>
                                                                <RowDefinition Height="Auto"/>
                                                                <RowDefinition Height="Auto"/>
                                                            </Grid.RowDefinitions>
                                                            <!-- Заголовок и статус -->
                                                            <Grid Grid.Row="0" Margin="0,0,0,20">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <materialDesign:PackIcon Kind="Taxi" Width="28" Height="28" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,12,0"/>
                                                                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                                                                    <TextBlock Text="{Binding OrderId, StringFormat=Заказ #{0}}" FontSize="18" FontWeight="Bold" Foreground="#FFE0E0E0"/>
                                                                    <Border Margin="12,0,0,0" Padding="10,3" CornerRadius="8">
                                                                        <Border.Style>
                                                                            <Style TargetType="Border">
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="Completed">
                                                                                        <Setter Property="Background" Value="#FF4CAF50"/>
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="Pending">
                                                                                        <Setter Property="Background" Value="#FFFFC107"/>
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="Canceled">
                                                                                        <Setter Property="Background" Value="#FFF44336"/>
                                                                                    </DataTrigger>
                                                                                    <DataTrigger Binding="{Binding Status}" Value="Accepted">
                                                                                        <Setter Property="Background" Value="#FF2196F3"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Border.Style>
                                                                        <TextBlock FontSize="14" FontWeight="SemiBold" VerticalAlignment="Center">
                                                                            <TextBlock.Style>
                                                                                <Style TargetType="TextBlock">
                                                                                    <Setter Property="Foreground" Value="White"/>
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding Status}" Value="Completed">
                                                                                            <Setter Property="Text" Value="Завершён"/>
                                                                                        </DataTrigger>
                                                                                        <DataTrigger Binding="{Binding Status}" Value="Pending">
                                                                                            <Setter Property="Text" Value="В ожидании"/>
                                                                                            <Setter Property="Foreground" Value="#FF333333"/>
                                                                                        </DataTrigger>
                                                                                        <DataTrigger Binding="{Binding Status}" Value="Canceled">
                                                                                            <Setter Property="Text" Value="Отменён"/>
                                                                                        </DataTrigger>
                                                                                        <DataTrigger Binding="{Binding Status}" Value="Accepted">
                                                                                            <Setter Property="Text" Value="Принят"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </TextBlock.Style>
                                                                        </TextBlock>
                                                                    </Border>
                                                                </StackPanel>
                                                                <TextBlock Grid.Column="2" Text="{Binding OrderTime, StringFormat={}{0:dd.MM.yyyy HH:mm}}" FontSize="16" Foreground="#FFB0B0B0" VerticalAlignment="Center"/>
                                                            </Grid>
                                                            <!-- Основная информация -->
                                                            <Grid Grid.Row="1" Margin="0,0,0,20">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                </Grid.ColumnDefinitions>
                                                                <!-- Левая колонка -->
                                                                <StackPanel Grid.Column="0" Margin="0,0,20,0">
                                                                    <Grid Margin="0,0,0,8">
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                            <ColumnDefinition Width="*"/>
                                                                        </Grid.ColumnDefinitions>
                                                                        <materialDesign:PackIcon Kind="MapMarker" Width="20" Height="20" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,10,0">
                                                                            <materialDesign:PackIcon.Style>
                                                                                <Style TargetType="materialDesign:PackIcon">
                                                                                    <Setter Property="Width" Value="20"/>
                                                                                    <Setter Property="Height" Value="20"/>
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                                            <Setter Property="Width" Value="24"/>
                                                                                            <Setter Property="Height" Value="24"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </materialDesign:PackIcon.Style>
                                                                        </materialDesign:PackIcon>
                                                                        <TextBlock Grid.Column="1" Text="{Binding StartPoint, StringFormat=От: {0}}" Style="{StaticResource OrderCardTextStyle}"/>
                                                                    </Grid>
                                                                    <Grid Margin="0,0,0,8">
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                            <ColumnDefinition Width="*"/>
                                                                        </Grid.ColumnDefinitions>
                                                                        <materialDesign:PackIcon Kind="MapMarkerCheck" Width="20" Height="20" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,10,0">
                                                                            <materialDesign:PackIcon.Style>
                                                                                <Style TargetType="materialDesign:PackIcon">
                                                                                    <Setter Property="Width" Value="20"/>
                                                                                    <Setter Property="Height" Value="20"/>
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                                            <Setter Property="Width" Value="24"/>
                                                                                            <Setter Property="Height" Value="24"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </materialDesign:PackIcon.Style>
                                                                        </materialDesign:PackIcon>
                                                                        <TextBlock Grid.Column="1" Text="{Binding EndPoint, StringFormat=До: {0}}" Style="{StaticResource OrderCardTextStyle}"/>
                                                                    </Grid>
                                                                    <Grid Margin="0,0,0,8">
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                            <ColumnDefinition Width="*"/>
                                                                        </Grid.ColumnDefinitions>
                                                                        <materialDesign:PackIcon Kind="Car" Width="20" Height="20" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,10,0">
                                                                            <materialDesign:PackIcon.Style>
                                                                                <Style TargetType="materialDesign:PackIcon">
                                                                                    <Setter Property="Width" Value="20"/>
                                                                                    <Setter Property="Height" Value="20"/>
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                                            <Setter Property="Width" Value="24"/>
                                                                                            <Setter Property="Height" Value="24"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </materialDesign:PackIcon.Style>
                                                                        </materialDesign:PackIcon>
                                                                        <TextBlock Grid.Column="1" Text="{Binding Tariff.Name, StringFormat=Тариф: {0}}" Style="{StaticResource OrderCardTextStyle}"/>
                                                                    </Grid>
                                                                </StackPanel>
                                                                <!-- Правая колонка -->
                                                                <StackPanel Grid.Column="1">
                                                                    <Grid Margin="0,0,0,8">
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                            <ColumnDefinition Width="*"/>
                                                                        </Grid.ColumnDefinitions>
                                                                        <materialDesign:PackIcon Kind="Account" Width="20" Height="20" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,10,0">
                                                                            <materialDesign:PackIcon.Style>
                                                                                <Style TargetType="materialDesign:PackIcon">
                                                                                    <Setter Property="Width" Value="20"/>
                                                                                    <Setter Property="Height" Value="20"/>
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                                            <Setter Property="Width" Value="24"/>
                                                                                            <Setter Property="Height" Value="24"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </materialDesign:PackIcon.Style>
                                                                        </materialDesign:PackIcon>
                                                                        <TextBlock Grid.Column="1" Text="{Binding Client.Name, StringFormat=Клиент: {0}}" Style="{StaticResource OrderCardTextStyle}"/>
                                                                    </Grid>
                                                                    <Grid Margin="0,0,0,8">
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                            <ColumnDefinition Width="*"/>
                                                                        </Grid.ColumnDefinitions>
                                                                        <materialDesign:PackIcon Kind="Phone" Width="20" Height="20" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,10,0">
                                                                            <materialDesign:PackIcon.Style>
                                                                                <Style TargetType="materialDesign:PackIcon">
                                                                                    <Setter Property="Width" Value="20"/>
                                                                                    <Setter Property="Height" Value="20"/>
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                                            <Setter Property="Width" Value="24"/>
                                                                                            <Setter Property="Height" Value="24"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </materialDesign:PackIcon.Style>
                                                                        </materialDesign:PackIcon>
                                                                        <TextBlock Grid.Column="1" Text="{Binding Client.Phone, StringFormat=Телефон: {0}}" Style="{StaticResource OrderCardTextStyle}"/>
                                                                    </Grid>
                                                                    <Grid Margin="0,0,0,8" Visibility="{Binding Status, Converter={StaticResource StatusToVisibilityConverter}, ConverterParameter=Completed}">
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                            <ColumnDefinition Width="*"/>
                                                                        </Grid.ColumnDefinitions>
                                                                        <materialDesign:PackIcon Kind="Star" Width="20" Height="20" Foreground="#FF42A5F5" VerticalAlignment="Center" Margin="0,0,10,0">
                                                                            <materialDesign:PackIcon.Style>
                                                                                <Style TargetType="materialDesign:PackIcon">
                                                                                    <Setter Property="Width" Value="20"/>
                                                                                    <Setter Property="Height" Value="20"/>
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                                            <Setter Property="Width" Value="24"/>
                                                                                            <Setter Property="Height" Value="24"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </materialDesign:PackIcon.Style>
                                                                        </materialDesign:PackIcon>
                                                                        <TextBlock Grid.Column="1" Text="{Binding ClientRating, StringFormat=Рейтинг клиента: {0}, FallbackValue='Не оценено'}" Style="{StaticResource OrderCardTextStyle}"/>
                                                                    </Grid>
                                                                </StackPanel>
                                                            </Grid>
                                                            <!-- Кнопки и стоимость -->
                                                            <Grid Grid.Row="2" Margin="0,0,0,20">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <!-- Стоимость -->
                                                                <Grid Grid.Column="0" VerticalAlignment="Center">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <ColumnDefinition Width="*"/>
                                                                    </Grid.ColumnDefinitions>
                                                                    <TextBlock Grid.Column="1" Text="{Binding Cost, StringFormat=Стоимость: {0:F2} ₽}">
                                                                        <TextBlock.Style>
                                                                            <Style TargetType="TextBlock">
                                                                                <Setter Property="FontSize" Value="16"/>
                                                                                <Setter Property="Foreground" Value="#FFFFC107"/>
                                                                                <Setter Property="FontWeight" Value="Bold"/>
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                                        <Setter Property="FontSize" Value="18"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </TextBlock.Style>
                                                                    </TextBlock>
                                                                </Grid>
                                                                <!-- Кнопки -->
                                                                <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                                    <Button Click="CompleteOrder_Click" Tag="{Binding OrderId}" Content="Завершить" Visibility="{Binding Status, Converter={StaticResource StatusToVisibilityConverter}, ConverterParameter=Accepted}">
                                                                        <Button.Style>
                                                                            <Style TargetType="Button" BasedOn="{StaticResource ActionButtonStyle}">
                                                                                <Setter Property="Width" Value="120"/>
                                                                                <Setter Property="Height" Value="40"/>
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                                        <Setter Property="Width" Value="140"/>
                                                                                        <Setter Property="Height" Value="45"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Button.Style>
                                                                    </Button>
                                                                    <Button Click="CancelOrder_Click" Tag="{Binding OrderId}" Content="Отменить" Visibility="{Binding Status, Converter={StaticResource StatusToVisibilityConverter}, ConverterParameter=Accepted}">
                                                                        <Button.Style>
                                                                            <Style TargetType="Button" BasedOn="{StaticResource CancelButtonStyle}">
                                                                                <Setter Property="Width" Value="120"/>
                                                                                <Setter Property="Height" Value="40"/>
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                                        <Setter Property="Width" Value="140"/>
                                                                                        <Setter Property="Height" Value="45"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Button.Style>
                                                                    </Button>
                                                                    <Button Click="RateClient_Click" Tag="{Binding OrderId}" Content="Оценить" Visibility="{Binding CanRateClient, Converter={StaticResource BooleanToVisibilityConverter}}">
                                                                        <Button.Style>
                                                                            <Style TargetType="Button" BasedOn="{StaticResource ActionButtonStyle}">
                                                                                <Setter Property="Width" Value="120"/>
                                                                                <Setter Property="Height" Value="40"/>
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                                        <Setter Property="Width" Value="140"/>
                                                                                        <Setter Property="Height" Value="45"/>
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Button.Style>
                                                                    </Button>
                                                                </StackPanel>
                                                            </Grid>
                                                        </Grid>
                                                    </Border>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </StackPanel>
                                </Border>
                            </ScrollViewer>
                        </Grid>

                        <!-- Вкладка "Профиль" -->
                        <Grid x:Name="ProfilePanel" Opacity="0" Visibility="Hidden">
                            <Grid.RenderTransform>
                                <TranslateTransform X="0"/>
                            </Grid.RenderTransform>
                            <ScrollViewer x:Name="ProfileScrollViewer" VerticalScrollBarVisibility="Auto">
                                <Border x:Name="ProfileCard" CornerRadius="20" Margin="20" Padding="20">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#FF2E2E2E" Offset="0"/>
                                            <GradientStop Color="#FF3A3A3A" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <Border.Effect>
                                        <DropShadowEffect Color="#FF42A5F5" BlurRadius="20" ShadowDepth="0" Opacity="0.5"/>
                                    </Border.Effect>
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <!-- Аватарка и имя -->
                                        <Grid Grid.Row="0" Margin="0,0,0,20">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <!-- Аватарка -->
                                            <Grid Grid.Column="0" Margin="0,0,20,0">
                                                <Border x:Name="AvatarBorder" Width="120" Height="120" CornerRadius="60">
                                                    <Border.Background>
                                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                            <GradientStop Color="#FF42A5F5" Offset="0"/>
                                                            <GradientStop Color="#FF7C4DFF" Offset="1"/>
                                                        </LinearGradientBrush>
                                                    </Border.Background>
                                                    <Border.Effect>
                                                        <DropShadowEffect Color="#FF42A5F5" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                                    </Border.Effect>
                                                    <Image x:Name="AvatarImage" Stretch="UniformToFill">
                                                        <Image.Clip>
                                                            <EllipseGeometry RadiusX="60" RadiusY="60" Center="60,60"/>
                                                        </Image.Clip>
                                                    </Image>
                                                </Border>
                                                <materialDesign:PackIcon Kind="Account" Width="60" Height="60" Foreground="#FFE0E0E0" HorizontalAlignment="Center" VerticalAlignment="Center" x:Name="AvatarPlaceholder" Visibility="Visible"/>
                                                <Button x:Name="UploadAvatarButton" Width="120" Height="120" Background="Transparent" BorderThickness="0" Click="UploadAvatar_Click">
                                                    <Button.Template>
                                                        <ControlTemplate TargetType="Button">
                                                            <Grid>
                                                                <Border x:Name="AvatarGlow" Width="120" Height="120" CornerRadius="60" BorderBrush="#FFE0E0E0" BorderThickness="3" Opacity="0">
                                                                    <Border.Effect>
                                                                        <DropShadowEffect Color="#FFE0E0E0" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                                                                    </Border.Effect>
                                                                </Border>
                                                                <Border Background="{TemplateBinding Background}" CornerRadius="60">
                                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                </Border>
                                                            </Grid>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="AvatarGlow" Property="Opacity" Value="1"/>
                                                                    <Setter Property="RenderTransform">
                                                                        <Setter.Value>
                                                                            <ScaleTransform ScaleX="1.05" ScaleY="1.05" CenterX="60" CenterY="60"/>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Trigger>
                                                                <Trigger Property="IsMouseOver" Value="False">
                                                                    <Setter TargetName="AvatarGlow" Property="Opacity" Value="0"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Button.Template>
                                                </Button>
                                            </Grid>
                                            <!-- Имя -->
                                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                                <TextBlock x:Name="ProfileHeader" FontSize="24" FontWeight="Bold" Foreground="#FFE0E0E0" Margin="0,0,0,10">
                                                    <TextBlock.Style>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="FontSize" Value="24"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                    <Setter Property="FontSize" Value="28"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBlock.Style>
                                                </TextBlock>
                                                <TextBlock Text="Водитель" FontSize="16" Foreground="#FF888888">
                                                    <TextBlock.Style>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="FontSize" Value="16"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=WindowState}" Value="Maximized">
                                                                    <Setter Property="FontSize" Value="18"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBlock.Style>
                                                </TextBlock>
                                            </StackPanel>
                                            <!-- Кнопки редактирования и сброса пароля -->
                                            <StackPanel Grid.Column="2" Orientation="Vertical" VerticalAlignment="Center">
                                                <Button x:Name="EditProfileButton" Width="50" Height="50" Click="EditProfile_Click" ToolTip="Редактировать профиль" Style="{StaticResource EditButtonStyle}">
                                                    <materialDesign:PackIcon Kind="Pencil" Width="24" Height="24"/>
                                                </Button>
                                                <Button x:Name="ResetPasswordButton" Width="50" Height="50" Margin="0,10,0,0" Click="ResetPassword_Click" ToolTip="Сбросить пароль" Style="{StaticResource LogoutButtonStyle}">
                                                    <materialDesign:PackIcon Kind="LockReset" Width="24" Height="24"/>
                                                </Button>
                                            </StackPanel>
                                        </Grid>
                                        <!-- Поля профиля -->
                                        <StackPanel Grid.Row="1">
                                            <!-- Имя -->
                                            <Grid Margin="0,0,0,15">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <materialDesign:PackIcon Kind="Account" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                                <TextBox x:Name="ProfileName" Grid.Column="1"
                                 Height="56"
                                 FontSize="16"
                                 Foreground="#FFFFFFFF"
                                 materialDesign:HintAssist.Hint="Имя"
                                 materialDesign:HintAssist.Foreground="#FF888888"
                                 materialDesign:HintAssist.FloatingOffset="0,-20"
                                 IsReadOnly="True"
                                 Style="{StaticResource MaterialDesignFloatingHintTextBox}">
                                                    <TextBox.Resources>
                                                        <Style TargetType="TextBox" BasedOn="{StaticResource MaterialDesignFloatingHintTextBox}">
                                                            <Setter Property="CaretBrush" Value="#FF42A5F5"/>
                                                            <Setter Property="SelectionBrush" Value="#FF42A5F5"/>
                                                            <Setter Property="BorderThickness" Value="0,0,0,2"/>
                                                            <Setter Property="BorderBrush" Value="#FF888888"/>
                                                            <Setter Property="Background" Value="#FF2E2E2E"/>
                                                            <Setter Property="Padding" Value="0,0,10,0"/>
                                                            <Style.Triggers>
                                                                <Trigger Property="IsFocused" Value="True">
                                                                    <Setter Property="BorderBrush" Value="#FF42A5F5"/>
                                                                    <Setter Property="BorderThickness" Value="0,0,0,3"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBox.Resources>
                                                </TextBox>
                                            </Grid>
                                            <!-- Телефон -->
                                            <Grid Margin="0,0,0,15">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <materialDesign:PackIcon Kind="Phone" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                                <TextBox x:Name="ProfilePhone" Grid.Column="1"
                                 Height="56"
                                 FontSize="16"
                                 Foreground="#FFFFFFFF"
                                 materialDesign:HintAssist.Hint="Телефон"
                                 materialDesign:HintAssist.Foreground="#FF888888"
                                 materialDesign:HintAssist.FloatingOffset="0,-20"
                                 IsReadOnly="True"
                                 Style="{StaticResource MaterialDesignFloatingHintTextBox}">
                                                    <TextBox.Resources>
                                                        <Style TargetType="TextBox" BasedOn="{StaticResource MaterialDesignFloatingHintTextBox}">
                                                            <Setter Property="CaretBrush" Value="#FF42A5F5"/>
                                                            <Setter Property="SelectionBrush" Value="#FF42A5F5"/>
                                                            <Setter Property="BorderThickness" Value="0,0,0,2"/>
                                                            <Setter Property="BorderBrush" Value="#FF888888"/>
                                                            <Setter Property="Background" Value="#FF2E2E2E"/>
                                                            <Setter Property="Padding" Value="0,0,10,0"/>
                                                            <Style.Triggers>
                                                                <Trigger Property="IsFocused" Value="True">
                                                                    <Setter Property="BorderBrush" Value="#FF42A5F5"/>
                                                                    <Setter Property="BorderThickness" Value="0,0,0,3"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBox.Resources>
                                                </TextBox>
                                            </Grid>
                                            <!-- Email -->
                                            <Grid Margin="0,0,0,15">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <materialDesign:PackIcon Kind="Email" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                                <TextBox x:Name="ProfileEmail" Grid.Column="1"
                                 Height="56"
                                 FontSize="16"
                                 Foreground="#FFFFFFFF"
                                 materialDesign:HintAssist.Hint="Email"
                                 materialDesign:HintAssist.Foreground="#FF888888"
                                 materialDesign:HintAssist.FloatingOffset="0,-20"
                                 IsReadOnly="True"
                                 Style="{StaticResource MaterialDesignFloatingHintTextBox}">
                                                    <TextBox.Resources>
                                                        <Style TargetType="TextBox" BasedOn="{StaticResource MaterialDesignFloatingHintTextBox}">
                                                            <Setter Property="CaretBrush" Value="#FF42A5F5"/>
                                                            <Setter Property="SelectionBrush" Value="#FF42A5F5"/>
                                                            <Setter Property="BorderThickness" Value="0,0,0,2"/>
                                                            <Setter Property="BorderBrush" Value="#FF888888"/>
                                                            <Setter Property="Background" Value="#FF2E2E2E"/>
                                                            <Setter Property="Padding" Value="0,0,10,0"/>
                                                            <Style.Triggers>
                                                                <Trigger Property="IsFocused" Value="True">
                                                                    <Setter Property="BorderBrush" Value="#FF42A5F5"/>
                                                                    <Setter Property="BorderThickness" Value="0,0,0,3"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBox.Resources>
                                                </TextBox>
                                            </Grid>
                                            <!-- Автомобиль -->
                                            <Grid Margin="0,0,0,15">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <materialDesign:PackIcon Kind="CarHatchback" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                                <TextBox x:Name="ProfileVehicle" Grid.Column="1"
                                 Height="56"
                                 FontSize="16"
                                 Foreground="#FFFFFFFF"
                                 materialDesign:HintAssist.Hint="Автомобиль"
                                 materialDesign:HintAssist.Foreground="#FF888888"
                                 materialDesign:HintAssist.FloatingOffset="0,-20"
                                 IsReadOnly="True"
                                 Style="{StaticResource MaterialDesignFloatingHintTextBox}">
                                                    <TextBox.Resources>
                                                        <Style TargetType="TextBox" BasedOn="{StaticResource MaterialDesignFloatingHintTextBox}">
                                                            <Setter Property="CaretBrush" Value="#FF42A5F5"/>
                                                            <Setter Property="SelectionBrush" Value="#FF42A5F5"/>
                                                            <Setter Property="BorderThickness" Value="0,0,0,2"/>
                                                            <Setter Property="BorderBrush" Value="#FF888888"/>
                                                            <Setter Property="Background" Value="#FF2E2E2E"/>
                                                            <Setter Property="Padding" Value="0,0,10,0"/>
                                                            <Style.Triggers>
                                                                <Trigger Property="IsFocused" Value="True">
                                                                    <Setter Property="BorderBrush" Value="#FF42A5F5"/>
                                                                    <Setter Property="BorderThickness" Value="0,0,0,3"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBox.Resources>
                                                </TextBox>
                                            </Grid>
                                            <!-- Дата регистрации -->
                                            <Grid Margin="0,0,0,15">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <materialDesign:PackIcon Kind="Calendar" Width="24" Height="24" Foreground="#FF888888" VerticalAlignment="Center" Margin="10,0,10,0"/>
                                                <TextBox x:Name="ProfileRegistrationDate" Grid.Column="1"
                                 Height="56"
                                 FontSize="16"
                                 Foreground="#FFFFFFFF"
                                 materialDesign:HintAssist.Hint="Дата регистрации"
                                 materialDesign:HintAssist.Foreground="#FF888888"
                                 materialDesign:HintAssist.FloatingOffset="0,-20"
                                 IsReadOnly="True"
                                 Style="{StaticResource MaterialDesignFloatingHintTextBox}">
                                                    <TextBox.Resources>
                                                        <Style TargetType="TextBox" BasedOn="{StaticResource MaterialDesignFloatingHintTextBox}">
                                                            <Setter Property="CaretBrush" Value="#FF42A5F5"/>
                                                            <Setter Property="SelectionBrush" Value="#FF42A5F5"/>
                                                            <Setter Property="BorderThickness" Value="0,0,0,2"/>
                                                            <Setter Property="BorderBrush" Value="#FF888888"/>
                                                            <Setter Property="Background" Value="#FF2E2E2E"/>
                                                            <Setter Property="Padding" Value="0,0,10,0"/>
                                                            <Style.Triggers>
                                                                <Trigger Property="IsFocused" Value="True">
                                                                    <Setter Property="BorderBrush" Value="#FF42A5F5"/>
                                                                    <Setter Property="BorderThickness" Value="0,0,0,3"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBox.Resources>
                                                </TextBox>
                                            </Grid>
                                        </StackPanel>
                                        <!-- Кнопки сохранения и отмены редактирования -->
                                        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,20">
                                            <Button x:Name="SaveEditButton" Content="Сохранить" Width="120" Height="40" Visibility="Collapsed" Click="SaveEdit_Click" Style="{StaticResource ActionButtonStyle}"/>
                                            <Button x:Name="CancelEditButton" Content="Отмена" Width="120" Height="40" Margin="10,0,0,0" Visibility="Collapsed" Click="CancelEdit_Click" Style="{StaticResource CancelButtonStyle}"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </ScrollViewer>
                        </Grid>
                    </Grid>
                </Grid>
            </Grid>
        </Border>
        <!-- Snackbar -->
        <materialDesign:Snackbar x:Name="Snackbar" Grid.ColumnSpan="2" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,20"/>
    </Grid>
</Window>